# Camera Hybrid

แอปพลิเคชันกล้องถ่ายรูปแบบข้ามแพลตฟอร์ม สร้างด้วย React Native และ Expo
สามารถใช้งานได้บน iOS, Android และ Web

## ฟีเจอร์หลัก

• **ถ่ายรูป** - ถ่ายรูปคุณภาพสูงพร้อมตัวอย่างแบบเรียลไทม์  
• **สลับกล้อง** - สลับระหว่างกล้องหน้าและกล้องหลังได้  
• **ระบบแฟลช** - 3 โหมด: ปิด, เปิด (ไฟฉาย), และ Auto  
• **บันทึกรูปภาพ** - บันทึกรูปลงอัลบั้มในเครื่องอัตโนมัติ  
• **ข้ามแพลตฟอร์ม** - ทำงานบน iOS, Android และ Web  
• **UI สวยงาม** - ออกแบบเหมือนแอพกล้องในโทรศัพท์จริง

## เทคโนโลยีที่ใช้

• **React Native** - พัฒนาแอปข้ามแพลตฟอร์ม  
• **Expo** - แพลตฟอร์มและเครื่องมือพัฒนา  
• **expo-camera** - ระบบกล้องและการถ่ายรูป  
• **expo-media-library** - จัดการและบันทึกรูปภาพ  
• **React Hooks** - จัดการ state และ lifecycle

## สิ่งที่ต้องมีก่อนเริ่ม

ก่อนรันโปรเจค ตรวจสอบว่าคุณมี:

• **Node.js** (เวอร์ชัน 16 ขึ้นไป)
• **npm** หรือ **yarn**
• **Expo CLI** (`npm install -g @expo/cli`)
• **Git**

สำหรับการพัฒนาบนมือถือ:

• **แอป Expo Go** บนมือถือของคุณ หรือ  
• **Android Studio** (สำหรับ Android emulator) หรือ  
• **Xcode** (สำหรับ iOS simulator)

## วิธีเริ่มต้น

### 1. โคลนโปรเจค

```bash
git clone https://github.com/NuPanuwat47/camera_hybrid.git
cd camera_hybrid
```

### 2. ติดตั้ง dependencies

```bash
npm install
```

### 3. ตรวจสอบการตั้งค่า

ตรวจสอบเวอร์ชัน React Native ให้ตรงกับ Expo:

```bash
npm install react-native@0.79.5
```

### 4. เริ่มเซิร์ฟเวอร์พัฒนา

```bash
npm start
```

### 5. รันบนแพลตฟอร์มต่างๆ

• **Web**: กด `w` ในเทอร์มินัลหรือเปิด `http://localhost:8081`  
• **iOS**: กด `i` หรือสแกน QR code ด้วยแอปกล้อง  
• **Android**: กด `a` หรือสแกน QR code ด้วยแอป Expo Go

## โครงสร้างโปรเจค

```
camera_hybrid/
├── App.js                 # โค้ดหลักของแอปพลิเคชัน
├── assets/                # ไฟล์สื่อคงที่
│   ├── adaptive-icon.png  # ไอคอนแอป (adaptive)
│   ├── favicon.png        # ไอคอน favicon
│   ├── icon.png          # ไอคอนแอป
│   └── splash-icon.png   # หน้าจอ splash
├── app.json              # การตั้งค่า Expo
├── index.js              # จุดเริ่มต้น
└── package.json          # Dependencies และ scripts
```

## ฟีเจอร์หลัก

### ระบบกล้อง

• **ถ่ายรูปคุณภาพสูง** - รองรับการถ่ายรูป quality 1.0  
• **แสดงตัวอย่างสด** - ดูภาพจากกล้องแบบเรียลไทม์  
• **สลับกล้อง** - เปลี่ยนระหว่างกล้องหน้าและหลังได้  

### ระบบแฟลช

• **ปิด (OFF)** - ไฟแฟลชปิดทั้งตอนดูและตอนถ่าย  
• **เปิด (ON)** - ไฟแฟลชเปิดค้างไว้ตลอดเวลา (โหมดไฟฉาย)  
• **อัตโนมัติ (AUTO)** - ไฟเปิดเฉพาะเมื่อแสงไม่เพียงพอ  

### การจัดการรูปภาพ

• **ดูตัวอย่าง** - แสดงรูปที่ถ่ายก่อนบันทึก  
• **บันทึกอัตโนมัติ** - บันทึกลงอัลบั้มในเครื่อง  
• **ถ่ายรูปใหม่** - ถ่ายรูปใหม่ได้ทันทีหากไม่พอใจ  

## คำสั่งที่ใช้

```bash
# เริ่มเซิร์ฟเวอร์พัฒนา
npm start

# เริ่มสำหรับแพลตฟอร์มเฉพาะ
npm run android    # Android
npm run ios        # iOS
npm run web        # Web browser

# ล้าง cache
npx expo start --clear
```

## การปรับแต่ง

### แก้ไขสีและสไตล์

แก้ไขไฟล์ `App.js` ส่วน `StyleSheet` เพื่อเปลี่ยน:

• **ชุดสี** - เปลี่ยนสีปุ่มและพื้นหลัง  
• **ขนาดปุ่ม** - ปรับขนาดปุ่มถ่ายรูปและควบคุม  
• **ตำแหน่ง UI** - ย้ายตำแหน่งปุ่มต่างๆ  
• **เอฟเฟกต์** - เพิ่มเงาและความโปร่งใส  

### เพิ่มฟีเจอร์ใหม่

1. **ฟิลเตอร์รูปภาพ** - เพิ่มฟิลเตอร์ให้รูปที่ถ่าย
2. **ซูมกล้อง** - เพิ่มการซูมเข้า-ออก
3. **ตั้งเวลาถ่าย** - เพิ่มระบบ timer
4. **การแชร์** - แชร์รูปไปแอพอื่น

### การตั้งค่าความละเอียด

แก้ไขใน function `takePictureAsync`:

```javascript
const photo = await cameraRef.current.takePictureAsync({
  quality: 1,        // 0-1 (1 = คุณภาพสูงสุด)
  base64: false,     // ไม่ต้องการ base64
  skipProcessing: false,
});
```

## ข้อควรรู้แต่ละแพลตฟอร์ม

### มือถือ (iOS/Android)

• **ขอสิทธิ์** - แอพจะขอสิทธิ์เข้าถึงกล้องและอัลบั้มอัตโนมัติ  
• **ใช้ Expo Go** สำหรับทดสอบ  
• **ใช้ EAS Build** สำหรับสร้างแอปจริง  
• **ทดสอบบนมือถือจริง** - ฟีเจอร์บางอย่างทำงานได้ดีบนอุปกรณ์จริง  

### เว็บ

• **จำกัดฟีเจอร์** - บางฟีเจอร์อาจไม่ทำงานบนเว็บ  
• **ใช้เว็บแคม** - ใช้กล้องเว็บแคมแทนกล้องโทรศัพท์  
• **ไม่สามารถบันทึกลงอัลบั้ม** - ใช้การดาวน์โหลดแทน  

## แก้ไขปัญหาที่พบบ่อย

**ปัญหา Metro bundler:**
```bash
npx expo start --clear
```

**ปัญหาการเชื่อมต่อ:**  
• ตรวจสอบว่าอุปกรณ์และคอมพิวเตอร์อยู่ในเครือข่ายเดียวกัน  
• ลองใช้ `npx expo start --tunnel` สำหรับเชื่อมต่อจากภายนอก

**ปัญหาสิทธิ์กล้อง:**  
• ตรวจสอบการตั้งค่าสิทธิ์ในโทรศัพท์
• รีสตาร์ทแอพหลังอนุญาต  

**ปัญหา React Native version:**
```bash
npm install react-native@0.79.5
```

**ปัญหาแฟลชไม่ทำงาน:**
• ทดสอบบนมือถือจริง (ไม่ใช่ emulator)
• ตรวจสอบว่าโทรศัพท์มีไฟแฟลช

## การมีส่วนร่วม

หากต้องการพัฒนาต่อ:

1. Fork repository นี้
2. สร้าง branch ใหม่ (`git checkout -b feature/new-feature`)
3. Commit การเปลี่ยนแปลง (`git commit -m 'เพิ่มฟีเจอร์ใหม่'`)
4. Push ไป branch (`git push origin feature/new-feature`)
5. เปิด Pull Request

## ผู้พัฒนา

สร้างโดย Panuwat Thammabut

• GitHub: [@NuPanuwat47](https://github.com/NuPanuwat47)